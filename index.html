<!doctype html>
<html lang="de">
<head>
	<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Aucobo-Commands</title>
	<style>
		* {
		  box-sizing: border-box;
		}
		
		.main {
			float:middle;
			width:60%;
			top:50%;
			padding:0 20px;
			text-align:center;
			margin-left:auto;
			margin-right:auto;
		}
			
		.button {
			background-color: #4CAF50; /* Green */
			border: none;
			color: black;
			padding: 15px 32px;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 16px;
			margin: 4px 2px;
			cursor: pointer;
		}
			
		.button2{background-color:#ff0000;}
			
		.button3{background-color:#fffb00;}
			
		.button4{background-color:#0073ff;}
			
		@media only screen and (max-width:620px) {
			/* For mobile phones: */
			.main{
				width:100%;
			}
		}
	</style>
</head>
<body>
	<div style="background-color:#00cf9e;padding:15px;text-align:center">
	   	<h2>Aucobo-Testbefehle</h2>
   	</div>
	<div class="main">
		<button class="button button2", id="kfehler">Kritischer Fehler</button>
		<br/>
		<button class="button button3", id="fehler">Fehlermeldung</button>
		<br/>
		<button class="button button3", id="wartung">Wartung</button>
		<br/>
		<button class="button button4", id="handbetrieb">Handbetrieb</button>
		<br/>
		<button class="button", id="autobetrieb">Autobetrieb</button>
	</div>  
</body>
  <script  src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" type="text/javascript"></script>
  <script>
	document.getElementById("kfehler").addEventListener("click", function(){
		const headers = new Headers()
		headers.append("Content-Type", "application/json" )
		headers.append("Authorization", "Basic " + btoa("arburg:password"));

		const body = {"machineId":"1", "Halle":"1", "Gruppe":"Linie 1","Maschinen-Typ":"570-A", "Status":"Red", "Fehlercode":"1010", "Fehlertext":"Technisches Problem"}

		const options = {
			method: "POST",
			headers,
			mode: "cors",
			body: JSON.stringify(body)
		}

		fetch("https://arburg.aucobo-global.de/connectors/events", options).then(response => {
			console.log(response)
		}).catch(err => {
			console.error("[error] " + err.message)
		})
	});
		
	document.getElementById("fehler").addEventListener("click", function(){
		const headers = new Headers()
		headers.append("Content-Type", "application/json" )
		headers.append("Authorization", "Basic " + btoa("arburg:password"));

		const body = {"machineId":"1", "Halle":"1", "Gruppe":"Linie 1","Maschinen-Typ":"570-A", "Status":"Yellow", "Fehlercode":"1013", "Fehlertext":"Kein Material"}

		const options = {
			method: "POST",
			headers,
			mode: "cors",
			body: JSON.stringify(body)
		}

		fetch("https://arburg.aucobo-global.de/connectors/events", options).then(response => {
			console.log(response)
		}).catch(err => {
			console.error("[error] " + err.message)
		})
	});
		
	document.getElementById("wartung").addEventListener("click", function(){
		const headers = new Headers()
		headers.append("Content-Type", "application/json" )
		headers.append("Authorization", "Basic " + btoa("arburg:password"));

		const body = {"machineId":"1", "Halle":"1", "Gruppe":"Linie 1","Maschinen-Typ":"570-A", "Status":"Yellow", "Fehlercode":"1012", "Fehlertext":"Wartung"}

		const options = {
			method: "POST",
			headers,
			mode: "cors",
			body: JSON.stringify(body)
		}

		fetch("https://arburg.aucobo-global.de/connectors/events", options).then(response => {
			console.log(response)
		}).catch(err => {
			console.error("[error] " + err.message)
		})
	});
		
	document.getElementById("handbetrieb").addEventListener("click", function(){
		const headers = new Headers()
		headers.append("Content-Type", "application/json" )
		headers.append("Authorization", "Basic " + btoa("arburg:password"));

		const body = {"machineId":"1", "Halle":"1", "Gruppe":"Linie 1","Maschinen-Typ":"570-A", "Status":"Blue", "Fehlercode":"0", "Fehlertext":"In Handbetrieb gewechselt"}

		const options = {
			method: "POST",
			headers,
			mode: "cors",
			body: JSON.stringify(body)
		}

		fetch("https://arburg.aucobo-global.de/connectors/events", options).then(response => {
			console.log(response)
		}).catch(err => {
			console.error("[error] " + err.message)
		})
	});
		
	document.getElementById("autobetrieb").addEventListener("click", function(){
		const headers = new Headers()
		headers.append("Content-Type", "application/json" )
		headers.append("Authorization", "Basic " + btoa("arburg:password"));

		const body = {"machineId":"1", "Halle":"1", "Gruppe":"Linie 1","Maschinen-Typ":"570-A", "Status":"Green", "Fehlercode":"0", "Fehlertext":"In Produktionsbetrieb gewechselt"}

		const options = {
			method: "POST",
			headers,
			mode: "cors",
			body: JSON.stringify(body)
		}

		fetch("https://arburg.aucobo-global.de/connectors/events", options).then(response => {
			console.log(response)
		}).catch(err => {
			console.error("[error] " + err.message)
		})
	});
  </script>
</html>
